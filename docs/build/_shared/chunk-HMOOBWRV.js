import{a as lt}from"/build/_shared/chunk-5HKR6QTR.js";import{b as ct}from"/build/_shared/chunk-G5WX4PPA.js";var pt=ct((D,le)=>{(function(a,r){typeof D=="object"&&typeof le<"u"?r(D,lt()):typeof define=="function"&&define.amd?define(["exports","react"],r):(a=a||self,r(a.ReactStripe={},a.React))})(D,function(a,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),t.push.apply(t,o)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u(Object(t),!0).forEach(function(o){T(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function d(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(e){return typeof e}:d=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(n)}function T(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W(n,e){return ve(n)||Ee(n,e)||ye(n,e)||Ce()}function ve(n){if(Array.isArray(n))return n}function Ee(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var o=[],m=!0,i=!1,v,h;try{for(t=t.call(n);!(m=(v=t.next()).done)&&(o.push(v.value),!(e&&o.length===e));m=!0);}catch(s){i=!0,h=s}finally{try{!m&&t.return!=null&&t.return()}finally{if(i)throw h}}return o}}function ye(n,e){if(!!n){if(typeof n=="string")return Q(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(n,e)}}function Q(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function he(n,e){return e={exports:{}},n(e,e.exports),e.exports}var Se="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ge=Se;function Z(){}function ee(){}ee.resetWarningCache=Z;var be=function(){function n(o,m,i,v,h,s){if(s!==ge){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function e(){return n}var t={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ee,resetWarningCache:Z};return t.PropTypes=t,t},c=he(function(n){n.exports=be()}),V=function(e){var t=r.useRef(e);return r.useEffect(function(){t.current=e},[e]),t.current},_=function(e){return e!==null&&d(e)==="object"},Pe=function(e){return _(e)&&typeof e.then=="function"},we=function(e){return _(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},te="[object Object]",Ae=function n(e,t){if(!_(e)||!_(t))return e===t;var o=Array.isArray(e),m=Array.isArray(t);if(o!==m)return!1;var i=Object.prototype.toString.call(e)===te,v=Object.prototype.toString.call(t)===te;if(i!==v)return!1;if(!i&&!o)return e===t;var h=Object.keys(e),s=Object.keys(t);if(h.length!==s.length)return!1;for(var b={},A=0;A<h.length;A+=1)b[h[A]]=!0;for(var k=0;k<s.length;k+=1)b[s[k]]=!0;var P=Object.keys(b);if(P.length!==h.length)return!1;var N=e,B=t,w=function(x){return n(N[x],B[x])};return P.every(w)},ne=function(e,t,o){return _(e)?Object.keys(e).reduce(function(m,i){var v=!_(t)||!Ae(e[i],t[i]);return o.includes(i)?(v&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),m):v?l(l({},m||{}),{},T({},i,e[i])):m},null):null},ke="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){if(e===null||we(e))return e;throw new Error(ke)},Oe=function(e){if(Pe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(re)};var t=re(e);return t===null?{tag:"empty"}:{tag:"sync",stripe:t}},Y=r.createContext(null);Y.displayName="ElementsContext";var je=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},G=r.createContext(null);G.displayName="CartElementContext";var Te=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ae=function(e){var t=e.stripe,o=e.options,m=e.children,i=r.useMemo(function(){return Oe(t)},[t]),v=r.useState(null),h=W(v,2),s=h[0],b=h[1],A=r.useState(null),k=W(A,2),P=k[0],N=k[1],B=r.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(o):null}}),w=W(B,2),S=w[0],x=w[1];r.useEffect(function(){var g=!0,R=function($){x(function(q){return q.stripe?q:{stripe:$,elements:$.elements(o)}})};return i.tag==="async"&&!S.stripe?i.stripePromise.then(function(O){O&&g&&R(O)}):i.tag==="sync"&&!S.stripe&&R(i.stripe),function(){g=!1}},[i,S,o]);var L=V(t);r.useEffect(function(){L!==null&&L!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[L,t]);var U=V(o);return r.useEffect(function(){if(!!S.elements){var g=ne(o,U,["clientSecret","fonts"]);g&&S.elements.update(g)}},[o,U,S.elements]),r.useEffect(function(){var g=S.stripe;!g||!g._registerWrapper||!g.registerAppInfo||(g._registerWrapper({name:"react-stripe-js",version:"2.1.0"}),g.registerAppInfo({name:"react-stripe-js",version:"2.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},[S.stripe]),r.createElement(Y.Provider,{value:S},r.createElement(G.Provider,{value:{cart:s,setCart:b,cartState:P,setCartState:N}},m))};ae.propTypes={stripe:c.any,options:c.object};var I=function(e){var t=r.useContext(Y);return je(t,e)},M=function(e){var t=r.useContext(G);return Te(t,e)},_e=function(){var e=I("calls useElements()"),t=e.elements;return t},xe=function(){var e=I("calls useStripe()"),t=e.stripe;return t},Ie=function(){var e=M("calls useCartElement()"),t=e.cart;return t},Ne=function(){var e=M("calls useCartElementState()"),t=e.cartState;return t},oe=function(e){var t=e.children,o=I("mounts <ElementsConsumer>");return t(o)};oe.propTypes={children:c.func.isRequired};var y=function(e,t,o){var m=!!o,i=r.useRef(o);r.useEffect(function(){i.current=o},[o]),r.useEffect(function(){if(!m||!e)return function(){};var v=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,v),function(){e.off(t,v)}},[m,t,e,i])},Be=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=function(e,t){var o="".concat(Be(e),"Element"),m=function(s){var b=s.id,A=s.className,k=s.options,P=k===void 0?{}:k,N=s.onBlur,B=s.onFocus,w=s.onReady,S=s.onChange,x=s.onEscape,L=s.onClick,U=s.onLoadError,g=s.onLoaderStart,R=s.onNetworksChange,O=s.onCheckout,$=s.onLineItemClick,q=s.onConfirm,tt=s.onCancel,nt=s.onShippingAddressChange,rt=s.onShippingRateChange,at=I("mounts <".concat(o,">")),z=at.elements,ot=r.useState(null),ie=W(ot,2),E=ie[0],it=ie[1],j=r.useRef(null),H=r.useRef(null),se=M("mounts <".concat(o,">")),X=se.setCart,J=se.setCartState;y(E,"blur",N),y(E,"focus",B),y(E,"escape",x),y(E,"click",L),y(E,"loaderror",U),y(E,"loaderstart",g),y(E,"networkschange",R),y(E,"lineitemclick",$),y(E,"confirm",q),y(E,"cancel",tt),y(E,"shippingaddresschange",nt),y(E,"shippingratechange",rt);var F;e==="cart"?F=function(ce){J(ce),w&&w(ce)}:w&&(e==="expressCheckout"?F=w:F=function(){w(E)}),y(E,"ready",F);var st=e==="cart"?function(C){J(C),S&&S(C)}:S;y(E,"change",st);var ut=e==="cart"?function(C){J(C),O&&O(C)}:O;y(E,"checkout",ut),r.useLayoutEffect(function(){if(j.current===null&&z&&H.current!==null){var C=z.create(e,P);e==="cart"&&X&&X(C),j.current=C,it(C),C.mount(H.current)}},[z,P,X]);var ue=V(P);return r.useEffect(function(){if(!!j.current){var C=ne(P,ue,["paymentRequest"]);C&&j.current.update(C)}},[P,ue]),r.useLayoutEffect(function(){return function(){j.current&&(j.current.destroy(),j.current=null)}},[]),r.createElement("div",{id:b,className:A,ref:H})},i=function(s){I("mounts <".concat(o,">")),M("mounts <".concat(o,">"));var b=s.id,A=s.className;return r.createElement("div",{id:b,className:A})},v=t?i:m;return v.propTypes={id:c.string,className:c.string,onChange:c.func,onBlur:c.func,onFocus:c.func,onReady:c.func,onEscape:c.func,onClick:c.func,onLoadError:c.func,onLoaderStart:c.func,onNetworksChange:c.func,onCheckout:c.func,onLineItemClick:c.func,onConfirm:c.func,onCancel:c.func,onShippingAddressChange:c.func,onShippingRateChange:c.func,options:c.object},v.displayName=o,v.__elementType=e,v},f=typeof window>"u",Le=p("auBankAccount",f),We=p("card",f),Me=p("cardNumber",f),Ue=p("cardExpiry",f),Re=p("cardCvc",f),$e=p("fpxBank",f),qe=p("iban",f),Fe=p("idealBank",f),De=p("p24Bank",f),Ke=p("epsBank",f),Ve=p("payment",f),Ye=p("expressCheckout",f),Ge=p("paymentRequestButton",f),ze=p("linkAuthentication",f),He=p("address",f),Xe=p("shippingAddress",f),Je=p("cart",f),Qe=p("paymentMethodMessaging",f),Ze=p("affirmMessage",f),et=p("afterpayClearpayMessage",f);a.AddressElement=He,a.AffirmMessageElement=Ze,a.AfterpayClearpayMessageElement=et,a.AuBankAccountElement=Le,a.CardCvcElement=Re,a.CardElement=We,a.CardExpiryElement=Ue,a.CardNumberElement=Me,a.CartElement=Je,a.Elements=ae,a.ElementsConsumer=oe,a.EpsBankElement=Ke,a.ExpressCheckoutElement=Ye,a.FpxBankElement=$e,a.IbanElement=qe,a.IdealBankElement=Fe,a.LinkAuthenticationElement=ze,a.P24BankElement=De,a.PaymentElement=Ve,a.PaymentMethodMessagingElement=Qe,a.PaymentRequestButtonElement=Ge,a.ShippingAddressElement=Xe,a.useCartElement=Ie,a.useCartElementState=Ne,a.useElements=_e,a.useStripe=xe,Object.defineProperty(a,"__esModule",{value:!0})})});var fe="https://js.stripe.com/v3",ft=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pe="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",mt=function(){for(var r=document.querySelectorAll('script[src^="'.concat(fe,'"]')),u=0;u<r.length;u++){var l=r[u];if(!!ft.test(l.src))return l}return null},dt=function(r){var u=r&&!r.advancedFraudSignals?"?advancedFraudSignals=false":"",l=document.createElement("script");l.src="".concat(fe).concat(u);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(l),l},vt=function(r,u){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"1.52.1",startTime:u})},K=null,Et=function(r){return K!==null||(K=new Promise(function(u,l){if(typeof window>"u"||typeof document>"u"){u(null);return}if(window.Stripe&&r&&console.warn(pe),window.Stripe){u(window.Stripe);return}try{var d=mt();d&&r?console.warn(pe):d||(d=dt(r)),d.addEventListener("load",function(){window.Stripe?u(window.Stripe):l(new Error("Stripe.js not available"))}),d.addEventListener("error",function(){l(new Error("Failed to load Stripe.js"))})}catch(T){l(T);return}})),K},yt=function(r,u,l){if(r===null)return null;var d=r.apply(void 0,u);return vt(d,l),d},me=Promise.resolve().then(function(){return Et(null)}),de=!1;me.catch(function(a){de||console.warn(a)});var Ct=function(){for(var r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];de=!0;var d=Date.now();return me.then(function(T){return yt(T,u,d)})};var St=async a=>{let r=await fetch(`/api/user/${a}/subscription`),{data:u}=await r.json();return u};export{pt as a,Ct as b,St as c};
