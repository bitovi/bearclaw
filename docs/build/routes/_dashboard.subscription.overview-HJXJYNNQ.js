import{a as G}from"/build/_shared/chunk-VKA3GPPN.js";import{a as O}from"/build/_shared/chunk-WB4UELY7.js";import"/build/_shared/chunk-TILAEZZA.js";import{a as $}from"/build/_shared/chunk-QCIUOCWQ.js";import{a as M,d as H,e as k,p as v,t as A,u as R,v as y,w as Y,x as S,y as _,z as T}from"/build/_shared/chunk-FPCZUKCW.js";import{u as m}from"/build/_shared/chunk-EZ5BYJGA.js";import"/build/_shared/chunk-43WRZGA6.js";import"/build/_shared/chunk-TQRC56TV.js";import"/build/_shared/chunk-BPUBDSZ4.js";import"/build/_shared/chunk-6CKUMXI6.js";import"/build/_shared/chunk-T25WUX7R.js";import{a as r}from"/build/_shared/chunk-AJKPLCOI.js";import"/build/_shared/chunk-5T3E4OPG.js";import"/build/_shared/chunk-MLPEZQPG.js";import{b as B,l as w}from"/build/_shared/chunk-BT47YPGH.js";import{a as D,b as u}from"/build/_shared/chunk-5HKR6QTR.js";import{d as l}from"/build/_shared/chunk-G5WX4PPA.js";var g=l(D());var t=l(u());function h({invoiceEntries:i}){let[e,a]=(0,g.useState)(5),[p,d]=(0,g.useState)(0),f=(n,x)=>{d(x)},c=n=>{a(parseInt(n.target.value,10)),d(0)},b=(0,g.useMemo)(()=>i[0]?Object.keys(i[0]).map(n=>n.replace("_"," ")):[],[i]),L=(0,g.useMemo)(()=>i.slice(p*e,p*e+e),[p,e,i]);return(0,t.jsxs)(M,{sx:{mb:2},children:[(0,t.jsx)(r,{padding:2,children:(0,t.jsx)(m,{variant:"h6",color:"text.primary",children:"Invoice"})}),(0,t.jsx)(Y,{sx:{maxHeight:"400px"},children:(0,t.jsxs)(A,{sx:{minWidth:650},stickyHeader:!0,children:[(0,t.jsx)(S,{children:(0,t.jsx)(T,{sx:{"& th":{color:"text.secondary"}},children:b.map((n,x)=>(0,t.jsx)(y,{sx:{fontColor:"text.secondary"},children:n},`str-${x}`))})}),(0,t.jsx)(R,{children:L.map((n,x)=>(0,t.jsxs)(T,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,t.jsx)(y,{component:"th",scope:"row",children:n.Invoice_ID}),(0,t.jsx)(y,{children:n.Date}),(0,t.jsx)(y,{children:n.Invoice_amount})]},n.Invoice_ID||x))})]})}),(0,t.jsx)(_,{rowsPerPageOptions:[5,10,25],component:"div",count:i.length,rowsPerPage:e,page:p,onPageChange:f,onRowsPerPageChange:c})]})}var E=l(O()),o=l(u()),U=({title:i,CTA:e,star:a=!1,containerStylings:p={},additionalDetails:d=[],handleClick:f})=>(0,o.jsx)(H,{component:r,flex:1,maxWidth:"350px",children:(0,o.jsxs)(r,{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",padding:2,minHeight:"150px",sx:p,children:[(0,o.jsxs)(r,{flexDirection:"column",paddingRight:2,children:[(0,o.jsxs)(r,{paddingBottom:3,textAlign:"left",children:[(0,o.jsx)(m,{variant:"h5",color:"text.primary",children:i}),d.map((c,b)=>c?(0,o.jsx)(m,{variant:"body2",color:"text.secondary",children:c},`${c.slice(0,3)}-${b}`):null)]}),(0,o.jsx)(k,{sx:{padding:0},children:(0,o.jsx)($,{onClick:f,variant:e.variant||"buttonLarge",children:e.label})})]}),a&&(0,o.jsx)(r,{paddingTop:3,justifySelf:"flex-end",color:"action.active",children:(0,o.jsx)(E.default,{color:"inherit"})})]})}),C=U;var I=l(G()),P=l(D()),s=l(u());function N(){var c;let i=B(),{organizationSubscription:e,invoicePreview:a,invoiceHistory:p}=(c=w().find(b=>b.pathname==="/subscription"))==null?void 0:c.data,d=(0,P.useMemo)(()=>["Current subscription plan",e!=null&&e.cancellationDate?`Cancelation on: ${(0,I.default)(new Date((e==null?void 0:e.cancellationDate)*1e3)).format("MMMM DD, YYYY")}`:""],[e]),f=(0,P.useMemo)(()=>[a!=null&&a.dueDate?`Your next payment on ${(0,I.default)(new Date(a.dueDate*1e3)).format("MMMM DD, YYYY")}`:"Cannot preview next payment date"],[a]);return e?(0,s.jsxs)(v,{children:[(0,s.jsxs)(v,{direction:{xs:"column",lg:"row"},alignItems:"stretch",justifyContent:"space-between",spacing:2,children:[(0,s.jsx)(C,{title:e.subscriptionLevel,additionalDetails:d,CTA:{label:"UPGRADE PLAN",variant:"contained"},handleClick:()=>i("/subscription/manage"),star:!0}),a&&(0,s.jsx)(C,{title:`$${a.upcomingToBeBilled/100}`,additionalDetails:f,CTA:{label:"MANAGE PAYMENT SETTINGS",variant:"buttonLargeOutlined"}})]}),(0,s.jsx)(r,{paddingY:2,children:(0,s.jsx)(h,{invoiceEntries:p||[{Invoice_ID:"",Date:"",Invoice_amount:""}]})})]}):(0,s.jsx)(r,{textAlign:"center",children:(0,s.jsx)(m,{children:"No active subscription"})})}export{N as default};
